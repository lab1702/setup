autoinstall:
  version: 1
  interactive-sections:
    - identity
  identity:
    realname: lab
    username: lab
  packages:
    - build-essential
    - gpg
    - git
    - gh
    - cmake
    - unzip
    - jq
    - ripgrep
    - fd-find
    - fzf
    - tree
    - docker.io
    - docker-buildx
    - docker-compose-v2
    - r-base
    - r-base-dev
    - libopenblas-dev
    - pandoc
    - libxml2-dev
    - libcurl4-openssl-dev
    - libssl-dev
    - libx11-dev
    - libglu1-mesa-dev
    - libftgl-dev
    - libfontconfig1-dev
    - libcairo2-dev
    - libgsl-dev
    - libudunits2-dev
    - libgdal-dev
    - libmpfr-dev
    - libgmp-dev
    - libharfbuzz-dev
    - libfribidi-dev
    - libunwind-dev
    - libarchive-dev
    - libsodium-dev
    - libsecret-1-dev
    - libgit2-dev
    - libmagick++-dev
    - libpoppler-cpp-dev
    - libavfilter-dev
    - libnode-dev
    - unixodbc-dev
    - tdsodbc
    - sqlite3
    - sqlite3-tools
    - python3-venv
    - python3-virtualenv
    - golang
    - rust-all
    - nodejs
    - npm
    - vim
    - cpufetch
    - figlet
    - dos2unix
    - htop
    - btop
    - nvtop
    - jnettop
  snaps:
    - name: discord
    - name: code
      classic: true
  late-commands:
    - curtin in-target -- usermod -aG docker lab
    - curtin in-target -- wget -qO- https://releases.warp.dev/linux/keys/warp.asc | gpg --dearmor > /tmp/warpdotdev.gpg
    - curtin in-target -- install -D -o root -g root -m 644 /tmp/warpdotdev.gpg /etc/apt/keyrings/warpdotdev.gpg
    - curtin in-target -- sh -c 'echo "deb [arch=amd64 signed-by=/etc/apt/keyrings/warpdotdev.gpg] https://releases.warp.dev/linux/deb stable main" > /etc/apt/sources.list.d/warpdotdev.list'
    - curtin in-target -- apt update
    - curtin in-target -- apt install -y warp-terminal
